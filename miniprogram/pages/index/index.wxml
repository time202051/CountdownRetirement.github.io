<view class="container">
  <view wx:if="{{!userInfo}}" class="card">
    <view class="empty-state">
      <view class="empty-icon">⏰</view>
      <view class="title">欢迎使用退休倒计时</view>
      <view class="text">请先设置您的基本信息来开始使用</view>
      <button class="btn" bindtap="goToSettings">开始设置</button>
    </view>
  </view>

  <view wx:else>
    <!-- 主标题 -->
    <view class="card">
      <view class="title">退休倒计时</view>
      <view class="text" style="text-align: center; margin-bottom: 20rpx;">{{motivationalMessage}}</view>
    </view>

    <!-- 倒计时显示 -->
    <view class="card">
      <view class="countdown-grid">
        <view class="countdown-item">
          <view class="countdown-number" style="color: #0ea5e9;">{{countdown.days}}</view>
          <view class="countdown-label">天</view>
        </view>
        <view class="countdown-item">
          <view class="countdown-number" style="color: #10b981;">{{countdown.hours}}</view>
          <view class="countdown-label">小时</view>
        </view>
        <view class="countdown-item">
          <view class="countdown-number" style="color: #8b5cf6;">{{countdown.minutes}}</view>
          <view class="countdown-label">分钟</view>
        </view>
        <view class="countdown-item">
          <view class="countdown-number" style="color: #f59e0b;">{{countdown.seconds}}</view>
          <view class="countdown-label">秒</view>
        </view>
      </view>
    </view>

    <!-- 进度条 -->
    <view class="card">
      <view class="subtitle">职业生涯进度</view>
      <view style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20rpx;">
        <text class="text">已完成 {{progress}}%</text>
        <text class="text" style="font-size: 32rpx; font-weight: bold; color: #0ea5e9;">{{progress}}%</text>
      </view>
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{progress}}%"></view>
      </view>
      <view style="display: flex; justify-content: space-between; margin-top: 20rpx;">
        <text class="text">当前年龄: {{userInfo.currentAge}}岁</text>
        <text class="text">退休年龄: {{userInfo.retirementAge}}岁</text>
      </view>
    </view>

    <!-- 统计信息 -->
    <view class="card">
      <view class="stats-grid">
        <view class="stat-item">
          <view class="stat-number" style="color: #0ea5e9;">{{remainingYears}}</view>
          <view class="stat-label">剩余工作年限</view>
        </view>
        <view class="stat-item">
          <view class="stat-number" style="color: #10b981;">{{totalWorkingDays}}</view>
          <view class="stat-label">总工作天数</view>
        </view>
        <view class="stat-item">
          <view class="stat-number" style="color: #8b5cf6;">{{progress}}</view>
          <view class="stat-label">已完成比例</view>
        </view>
      </view>
    </view>
  </view>
</view>
